<Window x:Class="Crosspose.Gui.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ic="clr-namespace:FluentIcons.Wpf;assembly=FluentIcons.Wpf"
        xmlns:local="clr-namespace:Crosspose.Gui"
        Title="Crosspose"
        Height="600"
        Width="960"
        MinWidth="720"
        MinHeight="500"
        Background="{DynamicResource WindowBackground}"
        Loaded="OnLoaded">
    <DockPanel>
        <Menu DockPanel.Dock="Top" Background="{DynamicResource SidebarBackground}" Foreground="{DynamicResource TextPrimary}">
            <Menu.Resources>
                <Style TargetType="MenuItem">
                    <Setter Property="Background" Value="{DynamicResource SidebarBackground}" />
                    <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                    <Setter Property="BorderBrush" Value="{DynamicResource SidebarBackground}" />
                    <Style.Triggers>
                        <Trigger Property="IsHighlighted" Value="True">
                            <Setter Property="Background" Value="{DynamicResource SidebarBackground}" />
                            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="{DynamicResource SidebarBackground}" />
                            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </Menu.Resources>
            <MenuItem Header="_File">
                <MenuItem Header="_Quit" Click="OnQuitClick" />
            </MenuItem>
            <MenuItem Header="_View">
                <MenuItem Header="_Log View" Click="OnLogViewClick" />
            </MenuItem>
                <MenuItem Header="_Tools">
                    <MenuItem Header="Crosspose Tools">
                        <MenuItem Header="Crosspose _Doctor" Click="OnDoctorClick" />
                        <MenuItem Header="Crosspose _Dekompose" Click="OnDekomposeClick" />
                    </MenuItem>
                <MenuItem Header="Container Tools">
                    <MenuItem Header="Docker _Desktop" Click="OnDockerDesktopClick" />
                    <MenuItem Header="_Podman Desktop" Click="OnPodmanDesktopClick" />
                </MenuItem>
            </MenuItem>
            <MenuItem Header="_Help">
                <MenuItem Header="_About" Click="OnAboutClick" />
            </MenuItem>
        </Menu>

        <Grid xmlns:ui="clr-namespace:Crosspose.Ui;assembly=Crosspose.Ui">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="180" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <Border Background="{DynamicResource SidebarBackground}" BorderBrush="{DynamicResource BorderBrushColor}" BorderThickness="0,0,1,0">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="6">
                        <TextBlock Text="Setup" Margin="6,6,6,4" Foreground="{DynamicResource TextPrimary}" FontWeight="Bold" />
                        <ListBox x:Name="SidebarSetup"
                                 SelectionChanged="OnSidebarSelectionChanged"
                                 Background="{DynamicResource SidebarBackground}"
                                 BorderBrush="{DynamicResource BorderBrushColor}"
                                 Foreground="{DynamicResource TextPrimary}">
                            <ListBoxItem Content="Definitions" />
                        </ListBox>

                        <TextBlock Text="Runtime" Margin="6,12,6,4" Foreground="{DynamicResource TextPrimary}" FontWeight="Bold" />
                        <ListBox x:Name="SidebarRuntime"
                                 SelectionChanged="OnSidebarSelectionChanged"
                                 Background="{DynamicResource SidebarBackground}"
                                 BorderBrush="{DynamicResource BorderBrushColor}"
                                 Foreground="{DynamicResource TextPrimary}">
                            <ListBoxItem Content="Projects" />
                            <ListBoxItem Content="Containers" />
                            <ListBoxItem Content="Images" />
                            <ListBoxItem Content="Volumes" />
                        </ListBox>
                    </StackPanel>
                </ScrollViewer>
            </Border>

            <Grid Grid.Column="1" DataContext="{Binding RelativeSource={RelativeSource AncestorType=Window}}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Margin="12">
                    <TextBlock x:Name="ViewTitle"
                               FontSize="18"
                               FontWeight="SemiBold"
                               Foreground="{DynamicResource TextPrimary}" />
                    <TextBlock FontSize="12" Foreground="{DynamicResource TextMuted}" TextWrapping="Wrap">
                        <Run Text="{Binding InfoText}" />
                        <Run Text=" " />
                        <Hyperlink NavigateUri="http://todo/"
                                   RequestNavigate="OnLearnMore"
                                   Foreground="{DynamicResource TextPrimary}">
                            <Run Text="Learn More" />
                        </Hyperlink>
                    </TextBlock>
                </StackPanel>

                <Border Grid.Row="1" Margin="12" Background="{DynamicResource PanelBackground}" BorderBrush="{DynamicResource BorderBrushColor}" BorderThickness="1">
                    <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <ItemsControl Grid.Row="0" ItemsSource="{Binding Errors}">
                    <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Border BorderBrush="{DynamicResource ErrorBorder}" Background="{DynamicResource ErrorBackground}" BorderThickness="1" CornerRadius="4" Padding="8" Margin="0,0,0,8">
                                        <StackPanel>
                                            <TextBlock Text="{Binding}" Foreground="{DynamicResource ErrorText}" TextWrapping="Wrap" Margin="0,0,0,4" />
                                            <TextBlock Text="Open Crosspose Doctor"
                                                       FontWeight="Bold"
                                                       Foreground="{DynamicResource ErrorText}"
                                                       Cursor="Hand"
                                                       MouseLeftButtonUp="OnOpenDoctorFromError"/>
                                        </StackPanel>
                                    </Border>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>

                <Grid Grid.Row="1" Margin="0,4,0,8">
                    <StackPanel x:Name="DefinitionsToolbar" Orientation="Horizontal" Visibility="Collapsed">
                        <Button x:Name="ProjectsNewButton" Padding="10,4" Click="OnProjectsNew" Margin="0,0,8,0">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="Add" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="New" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="ProjectsDeployButton" Padding="10,4" Click="OnProjectsDeploy" Margin="0,0,8,0">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="Rocket" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Deploy" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="ProjectsDeleteProjectButton" Padding="10,4" Click="OnProjectsDeleteProject" Margin="0,0,8,0">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="Delete" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Delete" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="ProjectsOpenButton" Padding="10,4" Click="OnProjectsOpen" Margin="0,0,8,0">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="FolderOpen" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Open Folder" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="DefinitionsRefreshButton" Padding="8,4" Click="OnRefreshClick">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="ArrowClockwise" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Refresh" />
                            </StackPanel>
                        </Button>
                    </StackPanel>
                    <StackPanel x:Name="DeploymentsToolbar" Orientation="Horizontal" Visibility="Collapsed">
                        <Button x:Name="DeploymentsOpenButton" Padding="10,4" Click="OnDeploymentsOpenFolder" Margin="0,0,8,0">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="FolderOpen" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Open Folder" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="DeploymentsUpButton" Padding="10,4" Margin="0,0,8,0" Click="OnDeploymentsUp" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="ChevronUp" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Up" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="DeploymentsDownButton" Padding="10,4" Margin="0,0,8,0" Click="OnDeploymentsDown" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="ChevronDown" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Down" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="DeploymentsRestartButton" Padding="10,4" Margin="0,0,8,0" Click="OnDeploymentsRestart" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="ArrowSync" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Restart" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="DeploymentsStopButton" Padding="10,4" Margin="0,0,8,0" Click="OnDeploymentsStop" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="Stop" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Stop" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="DeploymentsStartButton" Padding="10,4" Margin="0,0,8,0" Click="OnDeploymentsStart" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="Play" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Start" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="DeploymentsRemoveButton" Padding="10,4" Margin="0,0,8,0" Click="OnDeploymentsRemove" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="Delete" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Remove" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="DeploymentsRefreshButton" Padding="8,4" Click="OnRefreshClick">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="ArrowClockwise" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Refresh" />
                            </StackPanel>
                        </Button>
                    </StackPanel>
                    <StackPanel x:Name="ContainersToolbar" Orientation="Horizontal" Visibility="Collapsed">
                        <Button x:Name="ContainersStartButton" Padding="10,4" Margin="0,0,8,0" Click="OnContainersStart" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="Play" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Start" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="ContainersStopButton" Padding="10,4" Margin="0,0,8,0" Click="OnContainersStop" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="Stop" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Stop" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="ContainersDetailsButton" Padding="10,4" Margin="0,0,8,0" Click="OnContainersDetails" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="Info" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Details" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="ContainersDeleteButton" Padding="10,4" Margin="0,0,8,0" Click="OnContainersDelete" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="Delete" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Delete" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="ContainersRefreshButton" Padding="8,4" Click="OnRefreshClick">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="ArrowClockwise" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Refresh" />
                            </StackPanel>
                        </Button>
                    </StackPanel>
                    <StackPanel x:Name="ImagesToolbar" Orientation="Horizontal" Visibility="Collapsed">
                        <Button x:Name="ImagesPullButton" Padding="10,4" Margin="0,0,8,0" Click="OnImagesPull" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="CloudArrowDown" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Pull" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="ImagesDeleteButton" Padding="10,4" Margin="0,0,8,0" Click="OnImagesDelete" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="Delete" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Delete" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="ImagesRefreshButton" Padding="8,4" Click="OnRefreshClick">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="ArrowClockwise" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Refresh" />
                            </StackPanel>
                        </Button>
                    </StackPanel>
                    <StackPanel x:Name="VolumesToolbar" Orientation="Horizontal" Visibility="Collapsed">
                        <Button x:Name="VolumesDeleteButton" Padding="10,4" Margin="0,0,8,0" Click="OnVolumesDelete" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="Delete" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Delete" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="VolumesPruneButton" Padding="10,4" Margin="0,0,8,0" Click="OnVolumesPrune" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="LeafTwo" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Prune" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="VolumesInspectButton" Padding="10,4" Margin="0,0,8,0" Click="OnVolumesInspect" IsEnabled="False">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="Search" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Inspect" />
                            </StackPanel>
                        </Button>
                        <Button x:Name="VolumesRefreshButton" Padding="8,4" Click="OnRefreshClick">
                            <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                <ic:FluentIcon Icon="ArrowClockwise" IconVariant="Filled" IconSize="Size16" Width="16" Height="16" Margin="0,0,6,0" />
                                <TextBlock Text="Refresh" />
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Grid>

                <Grid Grid.Row="2"
                      x:Name="ContainersHeader"
                      Visibility="{Binding ElementName=ContainersTree, Path=Visibility}"
                      Margin="0,0,0,4">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="40" />
                                <ColumnDefinition Width="40" />
                                <ColumnDefinition Width="170" />
                                <ColumnDefinition Width="140" />
                                <ColumnDefinition Width="120" />
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="2" Text="Container" Foreground="{DynamicResource TextPrimary}" FontWeight="Bold" />
                            <TextBlock Grid.Column="3" Text="Image" Foreground="{DynamicResource TextPrimary}" FontWeight="Bold" />
                            <TextBlock Grid.Column="4" Text="Ports" Foreground="{DynamicResource TextPrimary}" FontWeight="Bold" />
                        </Grid>

                <Grid Grid.Row="3"
                      x:Name="ProjectsPanel"
                      Visibility="Collapsed">
                    <ListView x:Name="ProjectsListView"
                              ItemsSource="{Binding Projects}"
                              SelectionChanged="OnProjectsSelectionChanged"
                              Background="{DynamicResource ListBackground}"
                              Foreground="{DynamicResource TextPrimary}"
                              BorderBrush="{DynamicResource ListBorder}">
                        <ListView.Resources>
                            <Style TargetType="ListViewItem">
                                <Setter Property="Background" Value="Transparent" />
                                <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                                <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                <Style.Triggers>
                                    <Trigger Property="IsSelected" Value="True">
                                        <Setter Property="Background" Value="{DynamicResource SidebarBackground}" />
                                        <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                                    </Trigger>
                                </Style.Triggers>
                            </Style>
                        </ListView.Resources>
                        <ListView.View>
                            <GridView>
                                <GridViewColumn Header="Name" DisplayMemberBinding="{Binding Name}" Width="220" />
                                <GridViewColumn Header="Version" DisplayMemberBinding="{Binding Version}" Width="140" />
                                <GridViewColumn Header="Last Modified" DisplayMemberBinding="{Binding LastModified}" Width="180" />
                                <GridViewColumn Header="Path" DisplayMemberBinding="{Binding FullPath}" Width="320" />
                            </GridView>
                        </ListView.View>
                    </ListView>
                </Grid>

                        <ListView Grid.Row="3"
                                  x:Name="DeploymentsList"
                                  Visibility="Collapsed"
                                  ItemsSource="{Binding Deployments}"
                                  SelectionMode="Single"
                                  SelectionChanged="OnDeploymentsSelectionChanged"
                                  Background="{DynamicResource ListBackground}"
                                  Foreground="{DynamicResource TextPrimary}"
                                  BorderBrush="{DynamicResource ListBorder}">
                            <ListView.Resources>
                                <Style TargetType="ListViewItem">
                                    <Setter Property="Background" Value="Transparent" />
                                    <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                    <Style.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter Property="Background" Value="{DynamicResource SidebarBackground}" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </ListView.Resources>
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn Header="Project" Width="220" DisplayMemberBinding="{Binding Project}" />
                                    <GridViewColumn Header="Version" Width="160" DisplayMemberBinding="{Binding Version}" />
                                    <GridViewColumn Header="Last Action" Width="160" DisplayMemberBinding="{Binding LastAction}" />
                                    <GridViewColumn Header="Updated" Width="160" DisplayMemberBinding="{Binding LastUpdated}" />
                                    <GridViewColumn Header="Path" Width="260" DisplayMemberBinding="{Binding FullPath}" />
                                </GridView>
                            </ListView.View>
                        </ListView>

                        <TreeView Grid.Row="3"
                                  x:Name="ContainersTree"
                                  Visibility="Visible"
                                  ItemsSource="{Binding ContainerGroups}"
                                  Background="{DynamicResource PanelBackground}"
                                  Foreground="{DynamicResource TextPrimary}"
                                  MouseDoubleClick="OnContainerDoubleClick"
                                  SelectedItemChanged="OnContainersSelectedItemChanged">
                            <TreeView.ItemContainerStyle>
                                <Style TargetType="TreeViewItem">
                                    <Setter Property="IsExpanded" Value="{Binding IsExpanded, Mode=TwoWay}" />
                                    <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                                    <Setter Property="Background" Value="Transparent" />
                                    <Style.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter Property="Background" Value="{DynamicResource SidebarBackground}" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                                        </Trigger>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="{DynamicResource SidebarBackground}" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </TreeView.ItemContainerStyle>
                            <TreeView.Resources>
                                <HierarchicalDataTemplate DataType="{x:Type local:ProjectGroupRow}"
                                                          ItemsSource="{Binding Containers}">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="{Binding Name}" FontWeight="Bold" Foreground="{DynamicResource TextPrimary}" />
                                        <TextBlock Text="{Binding Containers.Count, StringFormat= ( {0} )}" Margin="6,0,0,0" Foreground="{DynamicResource TextPrimary}" />
                                    </StackPanel>
                                </HierarchicalDataTemplate>

                                <DataTemplate DataType="{x:Type local:ContainerRow}">
                                    <Grid Margin="0,2" VerticalAlignment="Center">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="40" />
                                    <ColumnDefinition Width="40" />
                                    <ColumnDefinition Width="120" />
                                    <ColumnDefinition Width="170" />
                                    <ColumnDefinition Width="140" />
                                    <ColumnDefinition Width="120" />
                                </Grid.ColumnDefinitions>

                                <CheckBox Grid.Column="0"
                                          IsChecked="{Binding IsSelected}"
                                          HorizontalAlignment="Center"
                                          Checked="OnContainerSelectionChanged"
                                          Unchecked="OnContainerSelectionChanged" />

                                <Image Grid.Column="1"
                                       Width="16"
                                       Height="16"
                                       Margin="0,0,6,0"
                                       Source="{Binding HostPlatform, Converter={StaticResource PlatformIconConverter}}" />

                                <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                                    <Ellipse Width="12" Height="12" Margin="0,0,6,0">
                                        <Ellipse.Style>
                                            <Style TargetType="Ellipse">
                                                <Setter Property="Fill" Value="{Binding State, Converter={StaticResource StatusBrushConverter}}" />
                                                <Setter Property="Stroke" Value="Transparent" />
                                                <Setter Property="StrokeThickness" Value="0" />
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding ExitState}" Value="{x:Static local:ContainerExitState.ExitedSuccess}">
                                                        <Setter Property="Fill" Value="Transparent" />
                                                        <Setter Property="Stroke" Value="{StaticResource SuccessStrokeBrush}" />
                                                        <Setter Property="StrokeThickness" Value="2" />
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Ellipse.Style>
                                    </Ellipse>
                                    <TextBlock Text="{Binding DisplayState}" VerticalAlignment="Center" Foreground="{DynamicResource TextPrimary}" />
                                </StackPanel>

                                <TextBlock Grid.Column="3" Text="{Binding Id}" Foreground="{DynamicResource TextPrimary}" />
                                <TextBlock Grid.Column="4" Text="{Binding Image}" Foreground="{DynamicResource TextPrimary}" />
                                <TextBlock Grid.Column="5"
                                           Text="{Binding Ports}"
                                           MouseLeftButtonUp="OnContainerPortsClick">
                                            <TextBlock.Style>
                                                <Style TargetType="TextBlock">
                                                    <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                                                    <Setter Property="Cursor" Value="Hand" />
                                                    <Setter Property="TextDecorations" Value="Underline" />
                                                    <Style.Triggers>
                                                        <Trigger Property="Text" Value="">
                                                            <Setter Property="Cursor" Value="Arrow" />
                                                            <Setter Property="TextDecorations" Value="{x:Null}" />
                                                            <Setter Property="Opacity" Value="0.7" />
                                                        </Trigger>
                                                        <Trigger Property="Text" Value="{x:Null}">
                                                            <Setter Property="Cursor" Value="Arrow" />
                                                            <Setter Property="TextDecorations" Value="{x:Null}" />
                                                            <Setter Property="Opacity" Value="0.7" />
                                                        </Trigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </TextBlock.Style>
                                        </TextBlock>
                                    </Grid>
                                </DataTemplate>
                            </TreeView.Resources>
                        </TreeView>

                        <TextBlock x:Name="PlaceholderText"
                                   Grid.Row="3"
                                   VerticalAlignment="Center"
                                   HorizontalAlignment="Center"
                                   Foreground="{DynamicResource TextMuted}"
                                   FontSize="16"
                                   Visibility="Collapsed"
                                   Text="Not implemented yet" />

                        <ListView Grid.Row="3"
                                  x:Name="ImagesList"
                                  Visibility="Collapsed"
                                  ItemsSource="{Binding Images}"
                                  SelectionChanged="OnImagesSelectionChanged"
                                  SelectionMode="Extended"
                                  Background="{DynamicResource ListBackground}"
                                  Foreground="{DynamicResource TextPrimary}"
                                  BorderBrush="{DynamicResource ListBorder}">
                            <ListView.Resources>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="Background" Value="Transparent" />
                                        <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                                        <Setter Property="BorderBrush" Value="Transparent" />
                                        <Setter Property="BorderThickness" Value="0" />
                                        <Setter Property="Padding" Value="2" />
                                        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                        <Setter Property="VerticalContentAlignment" Value="Center" />
                                        <Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}" />
                                        <Style.Triggers>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter Property="Background" Value="{DynamicResource SidebarBackground}" />
                                                <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                                            </Trigger>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="{DynamicResource SidebarBackground}" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </ListView.Resources>
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn Width="40">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <CheckBox IsChecked="{Binding IsSelected}"
                                                                  Focusable="False"
                                                                  HorizontalAlignment="Center"
                                                                  Checked="OnImageSelectionChanged"
                                                                  Unchecked="OnImageSelectionChanged" />
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                    </GridViewColumn>
                                    <GridViewColumn Header="" Width="32">
                                        <GridViewColumn.CellTemplate>
                                            <DataTemplate>
                                                <Image Width="16"
                                                       Height="16"
                                                       HorizontalAlignment="Center"
                                                       Source="{Binding HostPlatform, Converter={StaticResource PlatformIconConverter}}" />
                                            </DataTemplate>
                                        </GridViewColumn.CellTemplate>
                                    </GridViewColumn>
                                    <GridViewColumn Header="Status" Width="80">
                                        <GridViewColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <Ellipse Width="12" Height="12" Fill="{Binding State, Converter={StaticResource StatusBrushConverter}}" Margin="0,0,6,0" />
                                                    <TextBlock Text="{Binding State}" VerticalAlignment="Center" />
                                                </StackPanel>
                                            </DataTemplate>
                                        </GridViewColumn.CellTemplate>
                                    </GridViewColumn>
                                    <GridViewColumn Header="Name" Width="180" DisplayMemberBinding="{Binding Name}" />
                                    <GridViewColumn Header="Tag" Width="120" DisplayMemberBinding="{Binding Tag}" />
                                    <GridViewColumn Header="Image ID" Width="200" DisplayMemberBinding="{Binding Id}" />
                                    <GridViewColumn Header="Size" Width="120" DisplayMemberBinding="{Binding Size}" />
                                </GridView>
                            </ListView.View>
                        </ListView>

                        <ListView Grid.Row="3"
                                  x:Name="VolumesList"
                                  Visibility="Collapsed"
                                  ItemsSource="{Binding Volumes}"
                                  SelectionChanged="OnVolumesSelectionChanged"
                                  SelectionMode="Extended"
                                  Background="{DynamicResource ListBackground}"
                                  Foreground="{DynamicResource TextPrimary}"
                                  BorderBrush="{DynamicResource ListBorder}">
                            <ListView.Resources>
                                    <Style TargetType="ListViewItem">
                                        <Setter Property="Background" Value="Transparent" />
                                        <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                                        <Setter Property="BorderBrush" Value="Transparent" />
                                        <Setter Property="BorderThickness" Value="0" />
                                        <Setter Property="Padding" Value="2" />
                                        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                                        <Setter Property="VerticalContentAlignment" Value="Center" />
                                        <Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}" />
                                        <Style.Triggers>
                                            <Trigger Property="IsSelected" Value="True">
                                                <Setter Property="Background" Value="{DynamicResource SidebarBackground}" />
                                                <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                                            </Trigger>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="{DynamicResource SidebarBackground}" />
                                            <Setter Property="Foreground" Value="{DynamicResource TextPrimary}" />
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </ListView.Resources>
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn Width="40">
                                                <GridViewColumn.CellTemplate>
                                                    <DataTemplate>
                                                        <CheckBox IsChecked="{Binding IsSelected}"
                                                                  Focusable="False"
                                                                  HorizontalAlignment="Center"
                                                                  Checked="OnVolumeSelectionChanged"
                                                                  Unchecked="OnVolumeSelectionChanged" />
                                                    </DataTemplate>
                                                </GridViewColumn.CellTemplate>
                                    </GridViewColumn>
                                    <GridViewColumn Header="" Width="32">
                                        <GridViewColumn.CellTemplate>
                                            <DataTemplate>
                                                <Image Width="16"
                                                       Height="16"
                                                       HorizontalAlignment="Center"
                                                       Source="{Binding HostPlatform, Converter={StaticResource PlatformIconConverter}}" />
                                            </DataTemplate>
                                        </GridViewColumn.CellTemplate>
                                    </GridViewColumn>
                                    <GridViewColumn Header="Status" Width="80">
                                        <GridViewColumn.CellTemplate>
                                            <DataTemplate>
                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                    <Ellipse Width="12" Height="12" Fill="{Binding State, Converter={StaticResource StatusBrushConverter}}" Margin="0,0,6,0" />
                                                    <TextBlock Text="{Binding State}" VerticalAlignment="Center" />
                                                </StackPanel>
                                            </DataTemplate>
                                        </GridViewColumn.CellTemplate>
                                    </GridViewColumn>
                                    <GridViewColumn Header="Name" Width="220" DisplayMemberBinding="{Binding Name}" />
                                    <GridViewColumn Header="Size" Width="140" DisplayMemberBinding="{Binding Size}" />
                                </GridView>
                            </ListView.View>
                        </ListView>
                    </Grid>
                </Border>

                <ui:LogViewerControl Grid.Row="2"
                                     Margin="12,0,12,12"
                                     LogText="{Binding LogOutput, Mode=OneWay}"
                                     ClearRequested="OnLogClearRequested" />
            </Grid>
        </Grid>
    </DockPanel>
</Window>
